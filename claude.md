Rules enforcement is HARD. Pokemon can evolve from their previous stage, except on first turn. except if forest is vitality is played which negates that. except if a pokemon ability is on the field negating stadiums. unless that pokemon has a special condition OR a hex maniac was played earlier in the turn, or there's a rockets tower and its a non-colorless pokemon, etc. 

TCGone.net: worked on making a pokemon simulator that automates all rules enforcement for 10 years, still fixing bugs literally every week, tons left, massive scope.
Everything is generic.

Game logic can almost never be encoded in typescscript. 
Plugins can encode minimal game logic and helpers for things that a card effect can for sure never change.

Everything is totally game-system-blind except plugins.
